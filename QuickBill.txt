# üì± Titre du Projet : QuickBill (Nom de code)

**Slogan :** Tes factures professionnelles sur WhatsApp en 30 secondes.

## 1. La Vision

Permettre √† un vendeur informel (Instagram/WhatsApp) de passer du statut de "d√©brouillard" √† celui de "professionnel" en lui offrant un outil pour cr√©er des preuves de paiement instantan√©es et suivre qui lui doit de l'argent.

---

## 2. Fonctionnalit√©s Cl√©s (Scope du MVP)

Nous allons limiter l'application √† **4 √©crans principaux** pour maximiser la vitesse de d√©veloppement.

### A. Authentification & Onboarding (Simple)

* **Login :** Connexion via Google ou Email (via Supabase Auth).
* **Configuration du Business (La premi√®re fois seulement) :**
* Nom du Business.
* T√©l√©phone.
* Logo (Upload d'image).
* Devise pr√©f√©r√©e (ex: RWF, USD, EUR, CFA).



### B. Cr√©ation de Facture (Le C≈ìur)

* Un gros bouton "+" sur l'√©cran d'accueil.
* **Formulaire ultra-rapide :**
* Nom du Client (Peut √™tre s√©lectionn√© dans les contacts du t√©l√©phone ou nouveau).
* Date (Automatique = Aujourd'hui).
* Liste des articles : Nom de l'article + Prix + Quantit√©.
* Calcul automatique du Total.


* **Statut du paiement :** Toggle "Pay√©" ou "Non Pay√©" (Dette).

### C. G√©n√©ration & Partage (Le "Wow Effect")

* L'application g√©n√®re un PDF propre utilisant `expo-print`.
* **Design du PDF :** En-t√™te avec le logo du vendeur, tableau des articles, total, et un pied de page "G√©n√©r√© par QuickBill".
* **Bouton "Partager sur WhatsApp" :** Ouvre WhatsApp avec un message pr√©-rempli : *"Bonjour [Nom Client], voici ta facture pour ta commande chez [Nom Business]. Merci !"* + Le PDF en pi√®ce jointe.

### D. Tableau de Bord (La R√©tention)

* Liste des derni√®res factures (class√©es par date).
* **Filtre visuel :** Les factures impay√©es apparaissent avec une pastille ROUGE. Les pay√©es en VERT.
* Total du mois en cours (Chiffre d'Affaires).

---

## 3. Architecture Technique (Ta Stack)

* **Frontend :** React Native (Expo SDK 50+).
* **Backend / DB :** Supabase (PostgreSQL).
* **Stockage Image :** Supabase Storage (pour les logos utilisateurs).
* **Mode Hors-ligne (Crucial) :** Utilise **TanStack Query (React Query)** ou simplement **AsyncStorage** pour stocker les donn√©es en local d'abord, puis synchroniser avec Supabase quand la connexion revient.
* *Pourquoi ?* Le vendeur n'a pas toujours de la data, mais il doit pouvoir faire une facture.



---

## 4. Mod√®le de Donn√©es (Supabase Schema)

Voici la structure de ta base de donn√©es pour d√©marrer. C'est simple et efficace.

**Table : `profiles**` (Li√©e √† auth.users)

* `id` (uuid, PK)
* `business_name` (text)
* `phone_contact` (text)
* `currency` (text, default 'RWF')
* `logo_url` (text)
* `is_premium` (boolean, default false)

**Table : `customers**`

* `id` (uuid, PK)
* `user_id` (uuid, FK -> profiles.id)
* `name` (text)
* `phone` (text)

**Table : `invoices**`

* `id` (uuid, PK)
* `user_id` (uuid, FK -> profiles.id)
* `customer_id` (uuid, FK -> customers.id)
* `invoice_number` (text, ex: "INV-001")
* `status` (text, enum: 'PAID', 'UNPAID')
* `total_amount` (numeric)
* `created_at` (timestamp)

**Table : `invoice_items**` (Les lignes de la facture)

* `id` (uuid, PK)
* `invoice_id` (uuid, FK -> invoices.id)
* `description` (text)
* `quantity` (int)
* `unit_price` (numeric)

---

## 5. Les "Petits D√©tails" Importants (UX/UI)

Ce sont ces d√©tails qui feront que ton app sera aim√©e :

1. **Le message WhatsApp pr√©-√©crit :** Ne force pas l'utilisateur √† taper le message. Pr√©pare-le pour lui. Utilise `Linking.openURL('whatsapp://send?text=...')`.
2. **L'Auto-incr√©mentation :** Si la derni√®re facture √©tait la #005, la prochaine doit √™tre automatiquement la #006. Ne demande pas au vendeur de taper le num√©ro.
3. **La gestion du clavier :** Sur mobile, assure-toi que le clavier ne cache pas le bouton "Valider" (utilise `KeyboardAvoidingView`).
4. **Feedback Tactile :** Une petite vibration quand la facture est cr√©√©e avec succ√®s (Haptics).

---

## 6. Strat√©gie de Mon√©tisation (Int√©gr√©e au Code)

Pour le MVP, on met en place le "Freemium" via une restriction visuelle.

* **Utilisateur Gratuit :** Sur le PDF g√©n√©r√©, tout en bas, il y a √©crit en petit mais visible : *"G√©n√©r√© gratuitement avec QuickBill - T√©l√©chargez l'app !"*. Et il ne peut pas mettre son propre logo (ou alors en tout petit).
* **Utilisateur Premium :** Pas de mention "QuickBill", son Logo est en gros en haut de la facture.

*Note technique :* Dans ta table `profiles`, la colonne `is_premium` g√®re √ßa. Dans ton code de g√©n√©ration PDF, tu fais une condition simple :

```javascript
{user.is_premium ? renderUserLogo() : renderWatermark()}

```

---

## 7. Plan d'Attaque (Roadmap de D√©veloppement)

* **Semaine 1 :** Setup du projet Expo + Supabase. Cr√©ation des √©crans "Login" et "Settings" (Profil).
* **Semaine 2 :** Cr√©ation du formulaire de facture + Base de donn√©es (CRUD Invoices).
* **Semaine 3 :** Int√©gration de `expo-print` pour le PDF et `expo-sharing` pour WhatsApp.
* **Semaine 4 :** Polissage (Design, Loading states, gestion des erreurs) et Test avec 3 amis vendeurs.
